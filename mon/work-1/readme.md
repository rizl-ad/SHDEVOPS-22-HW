# Решение ДЗ к занятию "13.Системы мониторинга"

## Обязательные задания

### п. 1
Минимальны набор метрик:
| метрика | пояснение |
| ------- | --------- |
| количество http-запросов в секунду | мониторинг производительности платформы |
| время выполнения http-запросов (min, avg, max) | мониторинг производительности платформы |
| количество неудачных http-запросов в секунду | мониторинг качества платформы, значение для отслеживания целевых показателей |
| IOPS диска | мониторинг достаточности ресурсов дискового хранилища с точки зрения скорости записи/чтения |
| утилизация диска по времени простоя | мониторинг достаточности ресурсов дискового хранилища с точки зрения загруженности по времени |
| утилизация диска по объему | мониторинг достаточности объема дискового хранилища для размещения текстовых отчетов |
| утилизация inodes | мониторинг достаточности индексных дескрипторов файловой системы для размещения текстовых отчетов |
| утилизация RAM | мониторинг достаточности объема оперативной памяти |
| утилизация CPU | мониторинг достаточности производительности CPU |
| утилизация сетевых интерфейсов | мониторинг достаточности ресурсов сети |

### п. 2
Для целей определения качества обслуживания предусмотрены метрики по общему количеству http-запросов, количеству неудачных http-запросов и скоростям выполнения запросов (max, avg, min) - на их основе можно рассчитать показатели уровней обслуживания.

### п. 3
В описанной ситуации возможными решениями могут быть следующие:
- реализовать запись ошибок в отдельный лог файл и предоставить доступ разработчикам к лог файлу;
- организовать отправку сообщений об ошибках через корп. почту или корп. мессенджер.

### п. 4
В формуле расчета SLI не учтены информационные http-коды и коды перенаправления (1хх, 3хх), которые не относятся к кодам неудачных запросов.

### п. 5
| Pull-системы | Push-системы |
| ------------ | ------------ |
| Pull-системы запрашивают данные по требованию, что экономит ресурсы и позволяет более точно настраивать сбор, но может привести к задержкам в обнаружении проблем | Push-системы мониторинга отправляют данные непрерывно и в режиме реального времени, что обеспечивает мгновенную реакцию и эффективное использование ресурсов в стабильной среде, но создает высокую нагрузку. |
| Плюсы: | Плюсы: |
| <u>Экономия ресурсов</u>: система запрашивает данные только тогда, когда это необходимо, что снижает нагрузку на сеть и на источники данных.<br><u>Гибкая настройка</u>: позволяет точно контролировать, какие данные и с какой периодичностью собирать, а также настраивать сбор данных только с выбранных объектов. | <u>Мгновенная реакция</u>: данные поступают в систему сразу же, что важно для реагирования на изменения в реальном времени.<br><u>Эффективность в стабильных средах</u>: хорошо подходит для систем с большим количеством устройств, где нет смысла каждую минуту опрашивать каждый из них. |
| Минусы: | Минусы: |
| <u>Возможные задержки</u>: между моментом возникновения события и моментом, когда система его зафиксирует, может пройти некоторое время, соответствующее периоду опроса.<br><u>Сложность при большом числе объектов</u>: при большом количестве объектов опрос может стать менее эффективным, так как потребуется очень много запросов. | <u>Высокая нагрузка</u>: непрерывная отправка данных может создавать значительную нагрузку на сеть и систему мониторинга.<br><u>Риск потери данных</u>: при перегрузке системы или сбоях на стороне клиента может произойти потеря части данных. |

### п. 6
| Pull-системы | Push-системы |
| ------------ | ------------ |
| Prometheus | TICK |
| Zabbix | Zabbix |
| VictoriaMetrics | VictoriaMetrics |
| Nagios |  |

Zabbix и VictoriaMetrics являются системами мониторинга, поддерживающими обе модели.

### п. 7
Скрин:

<img width="929" height="584" alt="t7_1" src="https://github.com/user-attachments/assets/c75dbec4-dd85-4a1a-b2cf-995615994c0e" />

### п. 8
Скрин:

<img width="926" height="584" alt="t8_1" src="https://github.com/user-attachments/assets/6b1afc68-e09b-48f0-84d3-4e79260a1a2f" />

### п. 8
Плагин docker присутствует в конфиге telegraf сразу после клонирования репозитория https://github.com/influxdata/sandbox/tree/master и в docker-compose.yml тоже сконфигурирован.   
Но стек не работает сразу из клона, т.к. собирался 6 лет назад.   
Чтобы запустить стек потребовалось его допилить.

Скрин:

<img width="929" height="584" alt="t9_1" src="https://github.com/user-attachments/assets/4c2f1590-b85f-45f8-bdf8-9917788a7891" />

## Дополнительное задание

### п. 1


### п. 2
